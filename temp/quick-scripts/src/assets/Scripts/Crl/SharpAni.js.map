{"version":3,"sources":["assets\\Scripts\\Crl\\SharpAni.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAsC,4BAAY;IADlD;QAAA,qEA4DC;QAxDG,WAAK,GAAY,KAAK,CAAA;QAEtB,sBAAgB,GAAgC,IAAI,CAAA;QACpD,eAAS,GAAyB,IAAI,CAAA;;QAoDtC,iBAAiB;IACrB,CAAC;IAnDG,yBAAM,GAAN;QACI,IAAI,CAAC,WAAW,EAAE,CAAA;IACtB,CAAC;IAED,wBAAK,GAAL;IAEA,CAAC;IAED,8BAAW,GAAX;QACI,oBAAoB;QACpB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;QACvE,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;QAC5B,aAAa;QACb,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC;QAClD,QAAQ;QACR,6GAA6G;QAC7G,sHAAsH;IAC1H,CAAC;IACD,sCAAmB,GAAnB,UAAoB,KAAK;QACrB,QAAQ,KAAK,EAAE;YACX,KAAK,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;gBAC1F,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACtF,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACtF,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACtF,MAAM;SACb;QACD,wCAAwC;IAC5C,CAAC;IAED,wCAAqB,GAArB,UAAsB,KAAK;QACvB,wDAAwD;QACxD,+CAA+C;QAC/C,IAAI;IACR,CAAC;IAED,4CAAyB,GAAzB,UAA0B,KAAK;QAC3B,wCAAwC;QACxC,qBAAqB;QACrB,6DAA6D;QAE7D,IAAI;IACR,CAAC;IArDD;QADC,QAAQ;2CACa;IAHL,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA2D5B;IAAD,eAAC;CA3DD,AA2DC,CA3DqC,EAAE,CAAC,SAAS,GA2DjD;kBA3DoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import PlayerDataMgr from \"../Libs/PlayerDataMgr\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SharpAni extends cc.Component {\r\n\r\n    @property\r\n    isRed: boolean = false\r\n\r\n    _armatureDisPlay: dragonBones.ArmatureDisplay = null\r\n    _armature: dragonBones.Armature = null\r\n\r\n    onLoad() {\r\n        this.getArmature()\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    getArmature() {\r\n        //获取 ArmatureDisplay\r\n        this._armatureDisPlay = this.getComponent(dragonBones.ArmatureDisplay);\r\n        this.playAnimationByName(0);\r\n        //获取 Armatrue\r\n        this._armature = this._armatureDisPlay.armature();\r\n        //添加动画监听\r\n        //this._armatureDisPlay.addEventListener(dragonBones.EventObject.COMPLETE, this.animationEventHandler, this);\r\n        //this._armatureDisPlay.addEventListener(dragonBones.EventObject.LOOP_COMPLETE, this.loopAnimationEventHandler, this);\r\n    }\r\n    playAnimationByName(index) {\r\n        switch (index) {\r\n            case 0:\r\n                this._armatureDisPlay.playAnimation(this.isRed ? 'Ani_Fish_Stand' : 'Ani_Shark_Stand', 0);\r\n                break;\r\n            case 1:\r\n                this._armatureDisPlay.playAnimation(this.isRed ? 'Ani_Fish_Run' : 'Ani_Shark_Run', 0);\r\n                break;\r\n            case 2:\r\n                this._armatureDisPlay.playAnimation(this.isRed ? 'Ani_Fish_Die' : 'Ani_Shark_Die', 1);\r\n                break;\r\n            case 3:\r\n                this._armatureDisPlay.playAnimation(this.isRed ? 'Ani_Fish_Eat' : 'Ani_Shark_Eat', 1);\r\n                break;\r\n        }\r\n        //this._armatureDisPlay.timeScale = 0.1;\r\n    }\r\n\r\n    animationEventHandler(event) {\r\n        // if (event.type == dragonBones.EventObject.COMPLETE) {\r\n        //     //this._armatureDisPlay.stopAnimation();\r\n        // }\r\n    }\r\n\r\n    loopAnimationEventHandler(event) {\r\n        //this._armatureDisPlay.enabled = false;\r\n        //console.log(event);\r\n        // if (event.type == dragonBones.EventObject.LOOP_COMPLETE) {\r\n\r\n        // }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}