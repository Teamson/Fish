{"version":3,"sources":["assets\\Scripts\\Crl\\Level\\Level18.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Utility from \"../../Mod/Utility\";\r\nimport Sharp from \"../Sharp\";\r\nimport LevelBase from \"./LevelBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Level18 extends LevelBase {\r\n\r\n    @property(cc.Node)\r\n    Sharp1: cc.Node = null\r\n    Sharp1Crl: Sharp = null\r\n\r\n    @property(cc.Node)\r\n    Meat1: cc.Node = null\r\n    MeatDroped: boolean = false\r\n\r\n    onEnable() {\r\n        this.Sharp1Crl = this.Sharp1.getComponent(Sharp)\r\n        this.schedule(this.updateCB)\r\n    }\r\n\r\n    async updateCB() {\r\n        if (!this.isGameOver && this.Sharp1.isValid && this.meatNode.isValid) {\r\n            if (Utility.getWorldDis(this.Sharp1, this.meatNode) <= 50) {\r\n                this.meatNode.destroy()\r\n                this.loseCB()\r\n                return\r\n            }\r\n        }\r\n        if (!this.isGameOver && this.Sharp.isValid && this.Meat1.isValid) {\r\n            if (Utility.getWorldDis(this.Sharp, this.Meat1) <= 50) {\r\n                this.Sharp.pauseAllActions()\r\n                this.SharpCrl.aniCrl.playAnimationByName(3)\r\n                this.scheduleOnce(() => { this.Sharp.resumeAllActions() }, 0.5)\r\n                this.Meat1.destroy()\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    async trigger00() {\r\n        await this.playerCrl.moveToPoint(3)\r\n        await this.playerCrl.moveToPoint(4)\r\n        if (this.getNeedleCrlById(3).switchState > 0) {\r\n            await this.SharpCrl.moveToPoint(4)\r\n        }\r\n        else if (this.getNeedleCrlById(4).switchState > 0) {\r\n            await this.playerCrl.moveToPoint(5)\r\n            await this.playerCrl.moveToPoint(6)\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger10() {\r\n        if (this.getNeedleCrlById(2).switchState > 0) {\r\n            if (this.SharpCrl.pointIndex == 2) {\r\n                await this.SharpCrl.moveToPoint(1)\r\n                await this.SharpCrl.moveToPoint(0)\r\n            } else if (this.SharpCrl.pointIndex == 4 && this.getNeedleCrlById(3).switchState > 0) {\r\n                await this.SharpCrl.moveToPoint(2)\r\n                await this.SharpCrl.moveToPoint(1)\r\n                await this.SharpCrl.moveToPoint(0)\r\n            } else {\r\n                this.canTouch = true\r\n            }\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger20() {\r\n        if (this.Meat1.isValid) {\r\n            this.MeatDroped = true\r\n            this.Meat1.runAction(cc.moveBy(1, cc.v2(0, -170)))\r\n            this.scheduleOnce(() => {\r\n                this.canTouch = true\r\n            }, 1)\r\n        }\r\n\r\n        if (this.getNeedleCrlById(1).switchState > 0) {\r\n            if (this.SharpCrl.pointIndex == 2) {\r\n                await this.SharpCrl.moveToPoint(1)\r\n                await this.SharpCrl.moveToPoint(0)\r\n            } else if (this.SharpCrl.pointIndex == 4 && this.getNeedleCrlById(3).switchState > 0) {\r\n                await this.SharpCrl.moveToPoint(2)\r\n                await this.SharpCrl.moveToPoint(1)\r\n                await this.SharpCrl.moveToPoint(0)\r\n            }\r\n        } else if (this.SharpCrl.pointIndex == 4 && this.getNeedleCrlById(3).switchState > 0) {\r\n            await this.SharpCrl.moveToPoint(2)\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger30() {\r\n        if (this.SharpCrl.pointIndex == 2) {\r\n            await this.SharpCrl.moveToPoint(4)\r\n            if (this.Sharp1.isValid) {\r\n                this.SharpCrl.aniCrl.playAnimationByName(3)\r\n                this.scheduleOnce(() => { this.SharpCrl.aniCrl.playAnimationByName(0) }, 0.5)\r\n                this.Sharp1.destroy()\r\n            }\r\n            this.canTouch = true\r\n        } else if (this.SharpCrl.pointIndex == 4 && this.MeatDroped && this.Meat1.isValid) {\r\n            await this.SharpCrl.moveToPoint(2)\r\n            this.canTouch = true\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger40() {\r\n        if (this.playerCrl.pointIndex == 4) {\r\n            await this.playerCrl.moveToPoint(5)\r\n            await this.playerCrl.moveToPoint(6)\r\n        } else if (this.Sharp1.isValid && this.Sharp1Crl.pointIndex == 4) {\r\n            await this.Sharp1Crl.moveToPoint(5)\r\n        } else if (this.SharpCrl.pointIndex == 4) {\r\n            await this.SharpCrl.moveToPoint(5)\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n}\r\n"]}