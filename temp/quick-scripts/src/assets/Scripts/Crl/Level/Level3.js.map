{"version":3,"sources":["assets\\Scripts\\Crl\\Level\\Level3.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAAwC;AACxC,yCAAoC;AAE9B,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAoC,0BAAS;IAD7C;QAAA,qEA6CC;QAzCG,gBAAU,GAAY,IAAI,CAAA;;IAyC9B,CAAC;IAvCG,yBAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;IAChC,CAAC;IAED,yBAAQ,GAAR;QACI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;gBACpD,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBACnC,IAAI,iBAAO,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;oBAC9C,IAAI,CAAC,MAAM,EAAE,CAAA;oBACb,OAAM;iBACT;aACJ;SACJ;QACD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;gBACpD,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBACnC,IAAI,iBAAO,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;oBAChD,IAAI,CAAC,MAAM,EAAE,CAAA;oBACb,OAAM;iBACT;aACJ;SACJ;IACL,CAAC;IAEK,0BAAS,GAAf;;;;4BACI,qBAAM,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,EAAA;;wBAA9B,SAA8B,CAAA;wBAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;;;;;KACvB;IACK,0BAAS,GAAf;;;;4BACI,qBAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,EAAA;;wBAAnC,SAAmC,CAAA;wBACnC,qBAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,EAAA;;wBAAnC,SAAmC,CAAA;;;;;KACtC;IACK,0BAAS,GAAf;;;gBACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;;;;KACvB;IACK,0BAAS,GAAf;;;gBACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;;;;KACvB;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACQ;IAHT,MAAM;QAD1B,OAAO;OACa,MAAM,CA4C1B;IAAD,aAAC;CA5CD,AA4CC,CA5CmC,mBAAS,GA4C5C;kBA5CoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import Utility from \"../../Mod/Utility\";\r\nimport LevelBase from \"./LevelBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Level3 extends LevelBase {\r\n\r\n    @property(cc.Node)\r\n    poisonNode: cc.Node = null\r\n\r\n    onEnable() {\r\n        this.schedule(this.updateCB)\r\n    }\r\n\r\n    updateCB() {\r\n        if (this.meatNode.isValid && !this.isGameOver) {\r\n            for (let i = 0; i < this.poisonNode.childrenCount; i++) {\r\n                let p = this.poisonNode.children[i]\r\n                if (Utility.getWorldDis(this.meatNode, p) <= 100) {\r\n                    this.loseCB()\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        if (!this.isGameOver) {\r\n            for (let i = 0; i < this.poisonNode.childrenCount; i++) {\r\n                let p = this.poisonNode.children[i]\r\n                if (Utility.getWorldDis(this.playerNode, p) <= 100) {\r\n                    this.loseCB()\r\n                    return\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async trigger00() {\r\n        await this.meatCrl.triggerCB()\r\n        this.canTouch = true\r\n    }\r\n    async trigger10() {\r\n        await this.playerCrl.moveToPoint(0)\r\n        await this.playerCrl.moveToPoint(1)\r\n    }\r\n    async trigger20() {\r\n        this.canTouch = true\r\n    }\r\n    async trigger30() {\r\n        this.canTouch = true\r\n    }\r\n}\r\n"]}