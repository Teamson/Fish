{"version":3,"sources":["assets\\Scripts\\UI\\WeChatUI.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0CAAqC;AACrC,4DAAiD;AACjD,uCAAkC;AAE5B,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAsC,4BAAY;IADlD;QAAA,qEA+DC;QA3DG,cAAQ,GAAY,IAAI,CAAA;QAExB,gBAAU,GAAa,IAAI,CAAA;QAE3B,cAAQ,GAAa,IAAI,CAAA;QAEzB,iBAAW,GAAa,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAEhH,eAAS,GAAW,CAAC,CAAA;;QAkDrB,iBAAiB;IACrB,CAAC;IAjDG,eAAe;IAEf,wBAAK,GAAL;IAEA,CAAC;IAED,yBAAM,GAAN,UAAO,QAAmB,EAAE,KAAW;QACnC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;QACvB,eAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAA;IAClC,CAAC;IAED,2BAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;QACvD,IAAI,CAAC,QAAQ,EAAE,CAAA;IACnB,CAAC;IAED,4BAAS,GAAT;QACI,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,MAAM,GAAG,CAAC,CAAA;IACzD,CAAC;IAED,2BAAQ,GAAR;QAAA,iBAeC;QAdG,IAAI,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;QACtC,IAAI,GAAG,iBAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QAC/B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;QAEhC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,qBAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAA;QAE1E,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAA;QACvB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;QAC9C,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,UAAC,KAAK,IAAO,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAEzF,IAAI,CAAC,SAAS,EAAE,CAAA;QAChB,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,EAAE;YACrB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAA;SACrB;IACL,CAAC;IAED,wBAAK,GAAL,UAAM,KAAK,EAAE,EAAE;QAAf,iBASC;QARG,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE,CAAC,CAAA;QAC5B,eAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAA;QAC/B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;QACxB,qBAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,EAAE;YAC3B,KAAI,CAAC,YAAY,CAAC,cAAQ,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAC3D,CAAC,EAAE;YACC,eAAK,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAA;QACrC,CAAC,CAAC,CAAA;IACN,CAAC;IAxDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACM;IAExB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACQ;IAE3B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IAPR,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA8D5B;IAAD,eAAC;CA9DD,AA8DC,CA9DqC,EAAE,CAAC,SAAS,GA8DjD;kBA9DoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import Utility from \"../Mod/Utility\";\r\nimport JJMgr from \"../../ExportLibs/ExportUtils\";\r\nimport WxApi from \"../Libs/WxApi\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class WeChatUI extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    rootNode: cc.Node = null\r\n    @property(cc.Label)\r\n    playerName: cc.Label = null\r\n    @property(cc.Label)\r\n    gameName: cc.Label = null\r\n\r\n    playerNames: string[] = [\"有个小可爱\", \"大妈杀手\", \"神秘靓仔\", \"超级飞侠乐迪\", \"几一鸡\", \"爱喝可乐\", \"卖葫芦的葫芦娃\", \"多啦ABCD梦\", \"坏女孩\", \"沙雕网友\"];\r\n\r\n    gameIndex: number = 0\r\n\r\n    // onLoad () {}\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    showUI(callback?: Function, param?: any) {\r\n        this.node.active = true\r\n        WxApi.aldEvent('好友消息提示横幅出现次数')\r\n    }\r\n\r\n    onEnable() {\r\n        this.rootNode.runAction(cc.moveBy(0.5, cc.v2(0, -200)))\r\n        this.initData()\r\n    }\r\n\r\n    onDisable() {\r\n        this.rootNode.y = cc.view.getVisibleSize().height / 2\r\n    }\r\n\r\n    initData() {\r\n        let nArr = [].concat(this.playerNames)\r\n        nArr = Utility.shuffleArr(nArr)\r\n        this.playerName.string = nArr[0]\r\n\r\n        this.gameName.string = JJMgr.instance.navigateAppArr[this.gameIndex].title\r\n\r\n        let id = this.gameIndex\r\n        this.rootNode.off(cc.Node.EventType.TOUCH_END)\r\n        this.rootNode.on(cc.Node.EventType.TOUCH_END, (event) => { this.navCB(event, id) }, this)\r\n\r\n        this.gameIndex++\r\n        if (this.gameIndex >= 6) {\r\n            this.gameIndex = 0\r\n        }\r\n    }\r\n\r\n    navCB(event, id) {\r\n        console.log('click id:', id)\r\n        WxApi.aldEvent('好友消息提示横幅-总点击数')\r\n        this.node.active = false\r\n        JJMgr.instance.NavigateApp(id, () => {\r\n            this.scheduleOnce(() => { this.node.active = true }, 1)\r\n        }, () => {\r\n            WxApi.aldEvent('好友消息提示横幅-总成功跳转数')\r\n        })\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}