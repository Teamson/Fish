{"version":3,"sources":["assets\\Scripts\\Crl\\Level\\Level13.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport Utility from \"../../Mod/Utility\";\r\nimport LevelBase from \"./LevelBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Level13 extends LevelBase {\r\n\r\n    @property(cc.Node)\r\n    MainCamera: cc.Node = null\r\n\r\n    @property(cc.Node)\r\n    FireNode1: cc.Node = null\r\n    @property(cc.Node)\r\n    FireNode2: cc.Node = null\r\n    @property(cc.Node)\r\n    FireNode3: cc.Node = null\r\n    @property(cc.Node)\r\n    FireNode4: cc.Node = null\r\n    @property(cc.Node)\r\n    WaterNode: cc.Node = null\r\n\r\n    gameStarted: boolean = false\r\n\r\n    movetoScene2: boolean = false\r\n    movetoDes: boolean = false\r\n\r\n    onEnable() {\r\n        this.schedule(this.updateCB)\r\n    }\r\n\r\n    async updateCB() {\r\n        if (!this.gameStarted) {\r\n            this.canTouch = false\r\n            this.gameStarted = true\r\n            let a1 = cc.moveBy(3, cc.v2(750, 0))\r\n            let a2 = cc.moveBy(3, cc.v2(-750, 0))\r\n            let a3 = cc.callFunc(() => {\r\n                this.canTouch = true\r\n            })\r\n            let sq = cc.sequence(a1, a2, a3)\r\n            this.MainCamera.runAction(sq)\r\n        }\r\n\r\n        if (this.meatNode.isValid && this.meatNode.y <= -326) {\r\n            this.loseCB()\r\n            return\r\n        }\r\n\r\n        if (!this.isGameOver && this.meatNode.isValid) {\r\n            for (let i = 0; i < this.FireNode2.childrenCount; i++) {\r\n                let f = this.FireNode2.children[i]\r\n                if (f.name == 'yxz_dj6_1') continue\r\n                if (Utility.getWorldDis(this.meatNode, f) <= 55) {\r\n                    this.loseCB()\r\n                    return\r\n                }\r\n            }\r\n            for (let i = 0; i < this.FireNode3.childrenCount; i++) {\r\n                let f = this.FireNode3.children[i]\r\n                if (f.name == 'yxz_dj6_1') continue\r\n                if (Utility.getWorldDis(this.meatNode, f) <= 55) {\r\n                    this.loseCB()\r\n                    return\r\n                }\r\n            }\r\n            for (let i = 0; i < this.FireNode4.childrenCount; i++) {\r\n                let f = this.FireNode4.children[i]\r\n                if (f.name == 'yxz_dj6_1') continue\r\n                if (Utility.getWorldDis(this.meatNode, f) <= 55) {\r\n                    this.loseCB()\r\n                    return\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.getNeedleCrlById(0).switchState > 0 &&\r\n            this.getNeedleCrlById(1).switchState > 0 &&\r\n            this.getNeedleCrlById(2).switchState > 0 && !this.movetoScene2) {\r\n            this.canTouch = false\r\n            this.movetoScene2 = true\r\n            this.MainCamera.runAction(cc.moveBy(3, cc.v2(750, 0)))\r\n            await this.playerCrl.moveToPoint(0)\r\n            await this.playerCrl.moveToPoint(1)\r\n            this.canTouch = true\r\n        }\r\n\r\n        if (this.getNeedleCrlById(3).switchState > 0 && this.getNeedleCrlById(5).switchState == 2 && !this.movetoDes) {\r\n            this.canTouch = false\r\n            this.movetoDes = true\r\n            await this.playerCrl.moveToPoint(2)\r\n            await this.playerCrl.moveToPoint(3)\r\n            await this.playerCrl.moveToPoint(2)\r\n            await this.playerCrl.moveToPoint(4)\r\n        }\r\n    }\r\n\r\n    async trigger00() {\r\n        if (this.getNeedleCrlById(1).switchState == 0) {\r\n            this.scheduleOnce(() => {\r\n                this.loseCB()\r\n            }, 3)\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger10() {\r\n        this.scheduleOnce(() => {\r\n            this.FireNode1.destroy()\r\n            this.WaterNode.destroy()\r\n            this.canTouch = true\r\n        }, 2)\r\n    }\r\n    async trigger20() {\r\n        this.canTouch = true\r\n    }\r\n    async trigger30() {\r\n        this.canTouch = true\r\n    }\r\n    async trigger40() {\r\n        this.canTouch = true\r\n        if (this.node.getChildByName('FireNode4').getChildByName('yxz_dj6_1'))\r\n            this.node.getChildByName('FireNode4').getChildByName('yxz_dj6_1').destroy()\r\n    }\r\n    async trigger50() {\r\n        this.canTouch = true\r\n        if (this.node.getChildByName('FireNode4').getChildByName('yxz_dj6_1'))\r\n            this.node.getChildByName('FireNode4').getChildByName('yxz_dj6_1').destroy()\r\n    }\r\n    async trigger51() {\r\n        this.canTouch = true\r\n    }\r\n    async trigger60() {\r\n        this.canTouch = true\r\n        this.node.getChildByName('FireNode2').getChildByName('yxz_dj6_1').destroy()\r\n        this.node.getChildByName('FireNode3').getChildByName('yxz_dj6_1').destroy()\r\n    }\r\n    async trigger70() {\r\n        this.canTouch = true\r\n    }\r\n}\r\n"]}