{"version":3,"sources":["assets\\Scripts\\Crl\\Level\\Level14.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Utility from \"../../Mod/Utility\";\r\nimport Sharp from \"../Sharp\";\r\nimport LevelBase from \"./LevelBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Level14 extends LevelBase {\r\n\r\n    @property(cc.Node)\r\n    Sharp1: cc.Node = null\r\n    Sharp1Crl: Sharp = null\r\n\r\n    @property(cc.Node)\r\n    FireNode1: cc.Node = null\r\n    @property(cc.Node)\r\n    Poison: cc.Node = null\r\n\r\n    onEnable() {\r\n        this.Sharp1Crl = this.Sharp1.getComponent(Sharp)\r\n        this.schedule(this.updateCB)\r\n    }\r\n\r\n    async updateCB() {\r\n        if (this.Sharp1.isValid) {\r\n            for (let i = 0; i < this.Poison.childrenCount; i++) {\r\n                let p = this.Poison.children[i]\r\n                if (Utility.getWorldDis(p, this.Sharp1) <= 20) {\r\n                    this.Sharp1.destroy()\r\n                    this.Poison.destroy()\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        if (this.Sharp.isValid) {\r\n            for (let i = 0; i < this.FireNode1.childrenCount; i++) {\r\n                let p = this.FireNode1.children[i]\r\n                if (Utility.getWorldDis(p, this.Sharp) <= 20) {\r\n                    this.Sharp.destroy()\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this.isGameOver) {\r\n            for (let i = 0; i < this.FireNode1.childrenCount; i++) {\r\n                let p = this.FireNode1.children[i]\r\n                if (Utility.getWorldDis(p, this.playerNode) <= 50) {\r\n                    this.loseCB()\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    async trigger00() {\r\n        this.scheduleOnce(() => {\r\n            this.canTouch = true\r\n        }, 2)\r\n    }\r\n    async trigger10() {\r\n        if (this.Sharp1.isValid) {\r\n            await this.Sharp1Crl.moveToPoint(0)\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger20() {\r\n        if (this.getNeedleCrlById(3).switchState == 0) {\r\n            await this.playerCrl.moveToPoint(1)\r\n            this.loseCB()\r\n            return\r\n        } else {\r\n            await this.playerCrl.moveToPoint(1)\r\n            await this.playerCrl.moveToPoint(2)\r\n            if (this.getNeedleCrlById(5).switchState > 0) {\r\n                await this.playerCrl.moveToPoint(5)\r\n                this.loseCB()\r\n                return\r\n            }\r\n            else if (this.getNeedleCrlById(4).switchState > 0) {\r\n                await this.playerCrl.moveToPoint(3)\r\n                await this.playerCrl.moveToPoint(4)\r\n            } else {\r\n                this.canTouch = true\r\n            }\r\n        }\r\n    }\r\n    async trigger30() {\r\n        this.FireNode1.children[this.FireNode1.childrenCount - 1].destroy()\r\n        this.scheduleOnce(() => { this.canTouch = true }, 1)\r\n    }\r\n    async trigger40() {\r\n        if (this.Sharp.isValid) {\r\n            await this.SharpCrl.moveToPoint(3)\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n\r\n        if (this.playerCrl.pointIndex == 2) {\r\n            await this.playerCrl.moveToPoint(3)\r\n            await this.playerCrl.moveToPoint(4)\r\n        }\r\n    }\r\n    async trigger50() {\r\n        this.canTouch = true\r\n    }\r\n\r\n}\r\n"]}