{"version":3,"sources":["assets\\Scripts\\Crl\\Level\\Level15.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import LevelBase from \"./LevelBase\";\r\nimport Utility from \"../../Mod/Utility\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Level15 extends LevelBase {\r\n\r\n    @property(cc.Node)\r\n    Stone: cc.Node = null\r\n\r\n    movetoDes: boolean = false;\r\n\r\n    onEnable() {\r\n        this.schedule(this.updateCB)\r\n    }\r\n\r\n    async updateCB() {\r\n\r\n        if (!this.isGameOver && this.playerNode.isValid && this.Stone.isValid) {\r\n            if (Utility.getWorldDis(this.playerNode, this.Stone) <= 50) {\r\n                this.loseCB()\r\n                return\r\n            }\r\n        }\r\n\r\n        if (this.meatNode.isValid && !this.isGameOver && this.Stone.isValid) {\r\n            if (Utility.getWorldDis(this.meatNode, this.Stone) <= 50) {\r\n                this.meatNode.destroy()\r\n                this.loseCB()\r\n                return\r\n            }\r\n        }\r\n        if (this.Sharp.isValid && this.Stone.isValid) {\r\n            if (Utility.getWorldDis(this.Sharp, this.Stone) <= 50) {\r\n                this.Sharp.destroy()\r\n                this.canTouch = true\r\n            }\r\n        }\r\n\r\n        if (!this.isGameOver) {\r\n            if (this.getNeedleCrlById(0).switchState == 2 && this.getNeedleCrlById(1).switchState == 2 &&\r\n                this.getNeedleCrlById(2).switchState == 2 && this.getNeedleCrlById(3).switchState == 2 &&\r\n                !this.movetoDes) {\r\n                this.movetoDes = true\r\n                this.canTouch = false\r\n                await this.playerCrl.moveToPoint(1)\r\n                await this.playerCrl.moveToPoint(4)\r\n                await this.playerCrl.moveToPoint(5)\r\n                await this.playerCrl.moveToPoint(6)\r\n                await this.playerCrl.moveToPoint(7)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    async trigger00() {\r\n        if (this.Sharp.isValid && this.SharpCrl.pointIndex == 3) {\r\n            await this.SharpCrl.moveToPoint(2)\r\n            this.canTouch = true\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger01() {\r\n        if (this.Sharp.isValid && this.SharpCrl.pointIndex == 3) {\r\n            await this.SharpCrl.moveToPoint(2)\r\n            await this.SharpCrl.moveToPoint(1)\r\n            await this.SharpCrl.moveToPoint(0)\r\n        } else if (this.Sharp.isValid && this.SharpCrl.pointIndex == 2) {\r\n            await this.SharpCrl.moveToPoint(1)\r\n            await this.SharpCrl.moveToPoint(0)\r\n        } else {\r\n            this.canTouch = true\r\n        }\r\n    }\r\n    async trigger10() {\r\n        this.canTouch = true\r\n    }\r\n    async trigger20() {\r\n        this.canTouch = true\r\n    }\r\n    async trigger30() {\r\n        this.canTouch = true\r\n    }\r\n}\r\n"]}