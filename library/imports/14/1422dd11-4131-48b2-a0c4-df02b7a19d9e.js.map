{"version":3,"sources":["assets\\Scripts\\Libs\\WxApi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import JJMgr from \"../../ExportLibs/ExportUtils\"\r\nimport PlayerDataMgr from \"./PlayerDataMgr\"\r\nimport AdMgr from \"../Mod/AdMgr\"\r\n\r\nexport default class WxApi {\r\n    public static version: string = '1.0.0'\r\n    public static isVibrate: boolean = true\r\n    public static isMusic: boolean = true\r\n    public static OnShowFun: Function = null\r\n    public static scopeBtn: any = null\r\n    public static shareCallback: Function = null\r\n    public static front_share_number: number = 0\r\n    public static sceneId: number = 0\r\n    public static isKillBossUI: boolean = false\r\n\r\n    public static gotOfflineBounes: boolean = false\r\n    public static configData: any = null\r\n    public static crlConfig: any = null\r\n    public static navData: any[] = []\r\n\r\n    public static shareTime: number = 0\r\n    public static firstShare: boolean = true\r\n    public static hadShowFriendUI: boolean = false\r\n\r\n    public static launchGameUI: boolean = false\r\n\r\n    public static firstStartGame: boolean = false\r\n    public static firstStartUI: boolean = false\r\n\r\n    public static firstShowVideo: boolean = false\r\n\r\n    public static madUICallback: Function = null\r\n\r\n    public static isFromSkinUI: boolean = false\r\n\r\n    //微信登录\r\n    public static LoginWx(cb: Function) {\r\n        if (cc.sys.platform !== cc.sys.WECHAT_GAME) return\r\n        let launchData = window[\"wx\"].getLaunchOptionsSync();\r\n        window[\"wx\"].login({\r\n            success(res) {\r\n                if (res.code) {\r\n                    console.log('res.code:', res.code);\r\n                    if (cb) {\r\n                        cb(res.code, launchData.query)\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //监听启动\r\n    //Usually get fun(obj) obj.query\r\n    public static GetLaunchParam(fun: Function) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            this.OnShowFun = fun\r\n            fun(this.GetLaunchPassVar())\r\n            window[\"wx\"].onShow((para) => {\r\n                //check onshow Fun\r\n                if (this.OnShowFun != null) {\r\n                    this.OnShowFun(para)\r\n                }\r\n                console.log(\"wx on show\")\r\n            })\r\n        }\r\n    }\r\n    public static GetLaunchPassVar(): any {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            return window[\"wx\"].getLaunchOptionsSync()\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    public static WxOnHide(fun: Function) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            window[\"wx\"].onHide(fun)\r\n        }\r\n    }\r\n    public static WxOffHide(fun: Function) {\r\n        if (fun && cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            window[\"wx\"].offHide(fun)\r\n        }\r\n    }\r\n    public static WxOnShow(fun: Function) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            window[\"wx\"].onShow(fun)\r\n        }\r\n    }\r\n    public static WxOffShow(fun: Function) {\r\n        if (fun && cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            window[\"wx\"].offShow(fun)\r\n        }\r\n    }\r\n\r\n    //震动\r\n    public static DoVibrate(isShort: boolean = true) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME && this.isVibrate) {\r\n            if (isShort) {\r\n                window[\"wx\"].vibrateShort()\r\n            } else {\r\n                window[\"wx\"].vibrateLong()\r\n            }\r\n        }\r\n    }\r\n\r\n    //系统提示\r\n    public static OpenAlert(msg: string, dur: number = 2000, icon: boolean = false) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            window[\"wx\"].showToast({\r\n                title: msg,//提示文字\r\n                duration: dur,//显示时长\r\n                mask: false,//是否显示透明蒙层，防止触摸穿透，默认：false  \r\n                icon: icon ? 'success' : 'none', //图标，支持\"success\"、\"loading\"  \r\n            })\r\n        }\r\n    }\r\n\r\n    //跳转\r\n    public static NavigateApp(appid: string, path: string, title: string, cancelCB: Function, successCB: Function) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            let self = this\r\n            window[\"wx\"].navigateToMiniProgram({\r\n                appId: appid,\r\n                path: path,\r\n                success(res) {\r\n                    // 打开成功\r\n                    console.log('打开成功')\r\n                    successCB()\r\n                },\r\n                fail(res) {\r\n                    // 打开失败\r\n                    console.log('打开失败')\r\n                    cancelCB()\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    //预览图片\r\n    public static preViewImage(url) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            window[\"wx\"].previewImage({\r\n                current: url, // 当前显示图片的http链接\r\n                urls: [url] // 需要预览的图片http链接列表\r\n            })\r\n        }\r\n    }\r\n\r\n    //阿拉丁统计事件\r\n    public static aldEvent(str: string) {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME)\r\n            window[\"wx\"].aldSendEvent(str)\r\n    }\r\n\r\n    //计算分享次数\r\n    public static calculateShareNumber() {\r\n        if (localStorage.getItem('lastDate')) {\r\n            if (new Date().getDate() == parseInt(localStorage.getItem('lastDate'))) {\r\n                //同一天\r\n                this.front_share_number = parseInt(localStorage.getItem('front_share_number'))\r\n            } else {\r\n                //新的一天\r\n                this.front_share_number = JJMgr.instance.exportCfg.front_share_number\r\n            }\r\n        } else {\r\n            //新的一天\r\n            this.front_share_number = JJMgr.instance.exportCfg.front_share_number\r\n        }\r\n        console.log('this.front_share_number:', this.front_share_number)\r\n    }\r\n\r\n    //误触控制\r\n    public static fixBtnTouchPos(btn, startPosY, endPosY, target, cb?: Function) {\r\n        if (this.isValidBanner()) {\r\n            btn.y = startPosY\r\n            target.scheduleOnce(() => { AdMgr.instance.showBanner() }, JJMgr.instance.exportCfg.front_banner_appear / 1000)\r\n            target.scheduleOnce(() => {\r\n                btn.y = endPosY\r\n                cb && cb()\r\n            }, JJMgr.instance.exportCfg.front_button_up / 1000)\r\n        } else {\r\n            AdMgr.instance.showBanner()\r\n            cb && cb()\r\n        }\r\n    }\r\n\r\n    public static isValidBanner() {\r\n        return PlayerDataMgr.getPlayerData().grade >= JJMgr.instance.exportCfg.front_pass_gate && JJMgr.instance.exportCfg.is_allow_area == 1\r\n            && this.allowScene()\r\n    }\r\n\r\n    public static allowScene() {\r\n        let s: string = JJMgr.instance.exportCfg.front_wuchu_scene.toString()\r\n        if (s.search('|') == -1) {\r\n            let sInt: number = parseInt(s)\r\n            return sInt != WxApi.sceneId\r\n        }\r\n        let sArr: string[] = s.split('|')\r\n        for (let i = 0; i < sArr.length; i++) {\r\n            let sInt: number = parseInt(sArr[i])\r\n            if (sInt == WxApi.sceneId) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    public static bannerTO2: number = -1\r\n    public static bannerWuChu2() {\r\n        clearTimeout(this.bannerTO2)\r\n        AdMgr.instance.hideBanner()\r\n        if (WxApi.isValidBanner()) {\r\n            let upTime = JJMgr.instance.exportCfg.front_export_banner_appear\r\n            let downTime = upTime + JJMgr.instance.exportCfg.front_export_banner_hide\r\n            this.bannerTO2 = setTimeout(() => {\r\n                AdMgr.instance.showBanner()\r\n                this.bannerTO2 = setTimeout(() => {\r\n                    AdMgr.instance.hideBanner()\r\n                }, downTime)\r\n            }, upTime)\r\n        }\r\n    }\r\n    public static bannerTO1: number = -1\r\n    public static bannerWuChu1() {\r\n        clearTimeout(this.bannerTO1)\r\n        AdMgr.instance.hideBanner()\r\n        if (WxApi.isValidBanner()) {\r\n            let upTime = JJMgr.instance.exportCfg.front_baokuan_banner_appear\r\n            let downTime = upTime + JJMgr.instance.exportCfg.front_baokuan_banner_hide\r\n            this.bannerTO1 = setTimeout(() => {\r\n                AdMgr.instance.showBanner()\r\n                this.bannerTO1 = setTimeout(() => {\r\n                    AdMgr.instance.hideBanner()\r\n                }, downTime)\r\n            }, upTime)\r\n        }\r\n    }\r\n\r\n    public static getIsExportValid() {\r\n        return JJMgr.instance.exportCfg.front_all_export_switch\r\n    }\r\n\r\n    public static splitSection(): number[] {\r\n        let s: string = JJMgr.instance.exportCfg.front_water_section.toString()\r\n        if (s.search('|') == -1) {\r\n            let sInt: number = parseInt(s)\r\n            return [sInt]\r\n        }\r\n        let sArr: string[] = s.split('|')\r\n        let iArr: number[] = []\r\n        for (let i = 0; i < sArr.length; i++) {\r\n            let sInt: number = parseInt(sArr[i])\r\n            iArr.push(sInt)\r\n        }\r\n        return iArr\r\n    }\r\n\r\n}"]}